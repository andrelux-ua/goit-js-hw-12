{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\n\nconst API_KEY = '48292136-dc008af678147f60b21a3f0d6';\nconst API_URL = 'https://pixabay.com/api/';\n\nexport function fetchData(inputValue) {\n  const options = new URLSearchParams({\n    key: API_KEY,\n    q: inputValue,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n    per_page: 21,\n  });\n\n  const urlWithParams = `${API_URL}?${options.toString()}`;\n\n  return fetch(urlWithParams)\n    .then(res => {\n      if (!res.ok) {\n        throw new Error('Failed to fetch images.');\n      }\n      return res.json();\n    })\n    .then(data => {\n      if (data.hits.length === 0) {\n        iziToast.error({\n          title: 'No Results',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          titleColor: '#000000',\n          messageColor: '#000000',\n          position: 'topRight',\n          backgroundColor: '#FFFF00',\n        });\n        return [];\n      }\n      return data.hits;\n    })\n    .catch(err => {\n      iziToast.error({\n        title: 'Error',\n        message: 'An error occurred while fetching data.',\n        titleColor: '#000000',\n        messageColor: '#000000',\n        position: 'topRight',\n        backgroundColor: '#FFFF00',\n      });\n    });\n}\n","const render = document.querySelector('.gallerylist');\n\nexport function formResults(images) {\n  const markup = images\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => `\n        <div class=\"gallery-item\">\n            <a href=\"${largeImageURL}\">\n                <img class=\"gallery-image\" src=\"${webformatURL}\" alt=\"${tags}\" width=\"360\" height=\"200\"/>\n            </a>\n            <div class=\"info\">\n                <p class=\"info-text\"><b class=\"info-rating\">Likes:</b> ${likes}</p>\n                <p class=\"info-text\"><b class=\"info-rating\">Views:</b> ${views}</p>\n                <p class=\"info-text\"><b class=\"info-rating\">Comments:</b> ${comments}</p>\n                <p class=\"info-text\"><b class=\"info-rating\">Downloads:</b> ${downloads}</p>\n            </div>\n        </div>\n    `\n    )\n    .join('');\n\n  render.innerHTML = '';\n  render.insertAdjacentHTML('beforeend', markup);\n}\n","import { fetchData } from './js/pixabay-api';\nimport { formResults } from './js/render-functions';\n\nimport iziToast from 'izitoast';\nimport SimpleLightbox from 'simplelightbox';\n\nconst searchForm = document.querySelector('.search-form');\nconst inputText = document.querySelector('.search-form input');\nconst loader = document.querySelector('.loader');\nlet lightbox;\n\nsearchForm.addEventListener('submit', handleForm);\n\nfunction handleForm(event) {\n  event.preventDefault();\n  const inputValue = inputText.value.trim();\n\n  if (inputValue === '') {\n    return iziToast.info({\n      position: 'topRight',\n      title: 'Error',\n      message: 'Please enter a search query.',\n    });\n  }\n\n  showLoader();\n\n  fetchData(inputValue)\n    .then(res => {\n      if (res && res.length > 0) {\n        formResults(res);\n        if (lightbox) {\n          lightbox.refresh();\n        } else {\n          lightbox = new SimpleLightbox('.gallery-item a', {\n            captionsData: 'alt',\n            captionDelay: 250,\n          });\n        }\n      }\n    })\n    .catch(error => {\n      iziToast.error({\n        position: 'topRight',\n        title: 'Error',\n        message: 'An error occurred. Please try again!',\n        backgroundColor: '#FFFF00',\n      });\n    })\n    .finally(() => {\n      hideLoader();\n      searchForm.reset();\n    });\n}\n\nfunction showLoader() {\n  loader.style.display = 'block';\n}\n\nfunction hideLoader() {\n  loader.style.display = 'none';\n}\n\n// JavaScript for animated placeholder in input\n\nconst inputField = document.querySelector('.search-form input');\nconst placeholderTexts = [\n  'Search images...',\n  'car',\n  'cat',\n  'room',\n  'books',\n  'forest',\n  'garden',\n  'space',\n];\nlet currentIndex = 0;\nlet intervalId;\n\nfunction updatePlaceholder() {\n  inputField.setAttribute('placeholder', placeholderTexts[currentIndex]);\n  currentIndex = (currentIndex + 1) % placeholderTexts.length;\n}\n\nfunction startPlaceholderAnimation() {\n  intervalId = setInterval(updatePlaceholder, 2000);\n}\n\nfunction stopPlaceholderAnimation() {\n  clearInterval(intervalId);\n}\n\n// Stop animation when the input is focused\ninputField.addEventListener('focus', stopPlaceholderAnimation);\n\n// Restart animation when the input loses focus\ninputField.addEventListener('blur', startPlaceholderAnimation);\n\n// Initialize the first placeholder text and start animation\nupdatePlaceholder();\nstartPlaceholderAnimation();\n"],"names":["API_KEY","API_URL","fetchData","inputValue","options","urlWithParams","res","data","iziToast","err","render","formResults","images","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","searchForm","inputText","loader","lightbox","handleForm","event","showLoader","SimpleLightbox","error","hideLoader","inputField","placeholderTexts","currentIndex","intervalId","updatePlaceholder","startPlaceholderAnimation","stopPlaceholderAnimation"],"mappings":"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"}